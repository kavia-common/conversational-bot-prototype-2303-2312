{"is_source_file": true, "format": "JavaScript", "description": "This is a React application entry point for a conversational web interface, managing chat messages, rendering components like TopBar, MessageList, ChatInput, and providing a live preview via an iframe. It handles user input, state management, and integrates utility functions for prompt processing and HTML sanitization.", "external_files": ["./App.css", "./Preview", "./components/TopBar", "./components/MessageList", "./components/ChatInput", "./state/chatStore", "./utils/generation"], "external_methods": ["generateSiteFromPrompt", "sanitizeGeneratedHtml"], "published": [], "classes": [{"name": "AppInner", "description": "Main internal component that manages chat state, user input, and preview rendering."}, {"name": "App", "description": "Main app component wrapping the chat functionality with context provider."}], "methods": [{"name": "useIFrameSrcDoc(html)", "description": "Custom hook to manage the iframe's srcdoc attribute for safe HTML injection.", "scope": "", "scopeKind": ""}, {"name": "toggleTheme", "description": "Function to toggle between light and dark themes."}, {"name": "validate", "description": "Validates the user prompt for length and emptiness."}, {"name": "simulateThinking", "description": "Simulates a delay for loading indication."}, {"name": "handleGenerate", "description": "Handles prompt submission, updates chat messages, generates and sanitizes HTML, manages errors."}, {"name": "onSubmit", "description": "Handles form submit event to trigger prompt processing."}, {"name": "handleReset", "description": "Resets chat state."}, {"name": "App()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "AppInner()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["generateSiteFromPrompt", "sanitizeGeneratedHtml", "setMessages", "setHtml", "setGenerating", "setError", "setTheme", "reset"], "search-terms": ["React App", "chat interface", "Preview iframe", "generateSiteFromPrompt", "sanitizeGeneratedHtml", "useChatState", "useChatActions", "/src/App.js"], "state": 2, "file_id": 1, "knowledge_revision": 66, "git_revision": "c4ad777572e7d59daa6adc88479877588ef3b2de", "revision_history": [{"21": "4752e10f4a87e8fd8d620becf4089ba3b936eb09"}, {"26": "4752e10f4a87e8fd8d620becf4089ba3b936eb09"}, {"30": "4752e10f4a87e8fd8d620becf4089ba3b936eb09"}, {"31": "4752e10f4a87e8fd8d620becf4089ba3b936eb09"}, {"32": "4752e10f4a87e8fd8d620becf4089ba3b936eb09"}, {"33": "4752e10f4a87e8fd8d620becf4089ba3b936eb09"}, {"34": "fb4dd9d0c472109b55d7640e10f2b1f145491df7"}, {"35": "fb4dd9d0c472109b55d7640e10f2b1f145491df7"}, {"39": "e5c82e7378e7b3bf58d56adb5f8906521e38dfdd"}, {"40": "e5c82e7378e7b3bf58d56adb5f8906521e38dfdd"}, {"41": "e5c82e7378e7b3bf58d56adb5f8906521e38dfdd"}, {"42": "e5c82e7378e7b3bf58d56adb5f8906521e38dfdd"}, {"43": "e5c82e7378e7b3bf58d56adb5f8906521e38dfdd"}, {"44": "e5c82e7378e7b3bf58d56adb5f8906521e38dfdd"}, {"46": "6b77a4fb3df963708a38b8514608c2842a15753f"}, {"47": "0fc30f01e54b53f224f474096976e29dd3ec0685"}, {"48": "0fc30f01e54b53f224f474096976e29dd3ec0685"}, {"55": "e649eb42d43c38eb3ace449be7f9fda00bcefa36"}, {"57": "e649eb42d43c38eb3ace449be7f9fda00bcefa36"}, {"58": "e649eb42d43c38eb3ace449be7f9fda00bcefa36"}, {"63": "9d9c18a681aa75a5b37c9cee58782ca9e9c6d6a1"}, {"66": "c4ad777572e7d59daa6adc88479877588ef3b2de"}], "ctags": [{"_type": "tag", "name": "App", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^function App() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "AppInner", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^function AppInner() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "THEME", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^const THEME = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "apiBase", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^          apiBase={apiBase}$/", "language": "JavaScript", "kind": "field", "scope": "apiBase", "scopeKind": "class"}, {"_type": "tag", "name": "background", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^  background: '#f9fafb',$/", "language": "JavaScript", "kind": "property", "scope": "THEME", "scopeKind": "class"}, {"_type": "tag", "name": "border", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^  border: 'rgba(17, 24, 39, 0.08)',$/", "language": "JavaScript", "kind": "property", "scope": "THEME", "scopeKind": "class"}, {"_type": "tag", "name": "botAck", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^      const botAck = {$/", "language": "JavaScript", "kind": "class", "scope": "AppInner", "scopeKind": "class"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^        content:$/", "language": "JavaScript", "kind": "property", "scope": "AppInner.botAck", "scopeKind": "class"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^    const userMsg = { role: 'user', content: nextPrompt.trim() };$/", "language": "JavaScript", "kind": "property", "scope": "AppInner.userMsg", "scopeKind": "class"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^          error={error}$/", "language": "JavaScript", "kind": "field", "scope": "error", "scopeKind": "class"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^  error: '#EF4444',$/", "language": "JavaScript", "kind": "property", "scope": "THEME", "scopeKind": "class"}, {"_type": "tag", "name": "gradient", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^  gradient: 'linear-gradient(180deg, rgba(37, 99, 235, 0.06), rgba(249, 250, 251, 0))'$/", "language": "JavaScript", "kind": "property", "scope": "THEME", "scopeKind": "class"}, {"_type": "tag", "name": "input", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^          input={input}$/", "language": "JavaScript", "kind": "field", "scope": "input", "scopeKind": "class"}, {"_type": "tag", "name": "isGenerating", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^          isGenerating={isGenerating}$/", "language": "JavaScript", "kind": "field", "scope": "isGenerating", "scopeKind": "class"}, {"_type": "tag", "name": "onSubmit", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^          onSubmit={onSubmit}$/", "language": "JavaScript", "kind": "field", "scope": "onSubmit", "scopeKind": "class"}, {"_type": "tag", "name": "previewSrcDoc", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^              html={previewSrcDoc}$/", "language": "JavaScript", "kind": "field", "scope": "html", "scopeKind": "class"}, {"_type": "tag", "name": "primary", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^  primary: '#2563EB', \\/\\/ blue$/", "language": "JavaScript", "kind": "property", "scope": "THEME", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^        role: 'assistant',$/", "language": "JavaScript", "kind": "property", "scope": "AppInner.botAck", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^    const userMsg = { role: 'user', content: nextPrompt.trim() };$/", "language": "JavaScript", "kind": "property", "scope": "AppInner.userMsg", "scopeKind": "class"}, {"_type": "tag", "name": "secondary", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^  secondary: '#F59E0B', \\/\\/ amber$/", "language": "JavaScript", "kind": "property", "scope": "THEME", "scopeKind": "class"}, {"_type": "tag", "name": "setInput", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^          setInput={setInput}$/", "language": "JavaScript", "kind": "field", "scope": "setInput", "scopeKind": "class"}, {"_type": "tag", "name": "subtle", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^  subtle: '#6b7280',$/", "language": "JavaScript", "kind": "property", "scope": "THEME", "scopeKind": "class"}, {"_type": "tag", "name": "surface", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^  surface: '#ffffff',$/", "language": "JavaScript", "kind": "property", "scope": "THEME", "scopeKind": "class"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^  text: '#111827',$/", "language": "JavaScript", "kind": "property", "scope": "THEME", "scopeKind": "class"}, {"_type": "tag", "name": "theme", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^        <TopBar theme={theme} onToggleTheme={toggleTheme} onReset={handleReset} \\/>$/", "language": "JavaScript", "kind": "field", "scope": "AnonymousClass5de400bb0101", "scopeKind": "class"}, {"_type": "tag", "name": "useApi", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^          useApi={useApi}$/", "language": "JavaScript", "kind": "field", "scope": "useApi", "scopeKind": "class"}, {"_type": "tag", "name": "useIFrameSrcDoc", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^function useIFrameSrcDoc(html) {$/", "language": "JavaScript", "kind": "function", "signature": "(html)"}, {"_type": "tag", "name": "userMsg", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/App.js", "pattern": "/^    const userMsg = { role: 'user', content: nextPrompt.trim() };$/", "language": "JavaScript", "kind": "class", "scope": "AppInner", "scopeKind": "class"}], "hash": "d3f300b60685c6a18b9bcabdd1d381bb", "format-version": 4, "code-base-name": "frontend_reactjs", "filename": "frontend_reactjs/src/App.js", "fields": [{"name": "apiBase={apiBase}", "scope": "apiBase", "scopeKind": "class", "description": "unavailable"}, {"name": "background: '#f9fafb',", "scope": "THEME", "scopeKind": "class", "description": "unavailable"}, {"name": "border: 'rgba(17, 24, 39, 0.08)',", "scope": "THEME", "scopeKind": "class", "description": "unavailable"}, {"name": "content:", "scope": "AppInner.botAck", "scopeKind": "class", "description": "unavailable"}, {"name": "const userMsg = { role: 'user', content: nextPrompt.trim() };", "scope": "AppInner.userMsg", "scopeKind": "class", "description": "unavailable"}, {"name": "error={error}", "scope": "error", "scopeKind": "class", "description": "unavailable"}, {"name": "error: '#EF4444',", "scope": "THEME", "scopeKind": "class", "description": "unavailable"}, {"name": "gradient: 'linear-gradient(180deg, rgba(37, 99, 235, 0.06), rgba(249, 250, 251, 0))'", "scope": "THEME", "scopeKind": "class", "description": "unavailable"}, {"name": "input={input}", "scope": "input", "scopeKind": "class", "description": "unavailable"}, {"name": "isGenerating={isGenerating}", "scope": "isGenerating", "scopeKind": "class", "description": "unavailable"}, {"name": "onSubmit={onSubmit}", "scope": "onSubmit", "scopeKind": "class", "description": "unavailable"}, {"name": "html={previewSrcDoc}", "scope": "html", "scopeKind": "class", "description": "unavailable"}, {"name": "primary: '#2563EB', \\/\\/ blue", "scope": "THEME", "scopeKind": "class", "description": "unavailable"}, {"name": "role: 'assistant',", "scope": "AppInner.botAck", "scopeKind": "class", "description": "unavailable"}, {"name": "secondary: '#F59E0B', \\/\\/ amber", "scope": "THEME", "scopeKind": "class", "description": "unavailable"}, {"name": "setInput={setInput}", "scope": "setInput", "scopeKind": "class", "description": "unavailable"}, {"name": "subtle: '#6b7280',", "scope": "THEME", "scopeKind": "class", "description": "unavailable"}, {"name": "surface: '#ffffff',", "scope": "THEME", "scopeKind": "class", "description": "unavailable"}, {"name": "text: '#111827',", "scope": "THEME", "scopeKind": "class", "description": "unavailable"}, {"name": "<TopBar theme={theme} onToggleTheme={toggleTheme} onReset={handleReset} \\/>", "scope": "AnonymousClass5de400bb0101", "scopeKind": "class", "description": "unavailable"}, {"name": "useApi={useApi}", "scope": "useApi", "scopeKind": "class", "description": "unavailable"}]}