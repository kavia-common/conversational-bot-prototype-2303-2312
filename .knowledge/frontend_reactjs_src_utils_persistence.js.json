{"is_source_file": true, "format": "JavaScript", "description": "This file provides utility functions to persist, load, and clear session data (such as messages, HTML content, and theme) using the browser's localStorage in a web application, specifically for frontend ReactJS code.", "external_files": ["localStorage"], "external_methods": ["window.localStorage.getItem", "window.localStorage.setItem", "window.localStorage.removeItem"], "published": ["loadSession", "saveSession", "clearSession"], "classes": [], "methods": [{"name": "loadSession()", "description": "Retrieves and parses persisted session data from localStorage, returning a structured object or null if not available or on error.", "scope": "", "scopeKind": ""}, {"name": "saveSession(state)", "description": "Serializes selected parts of the application state and saves them into localStorage.", "scope": "", "scopeKind": ""}, {"name": "clearSession()", "description": "Removes the persisted session data from localStorage.", "scope": "", "scopeKind": ""}], "calls": ["window.localStorage.getItem", "window.localStorage.setItem", "window.localStorage.removeItem"], "search-terms": ["persistence", "localStorage", "session", "saveSession", "loadSession", "clearSession"], "state": 2, "file_id": 18, "knowledge_revision": 62, "git_revision": "", "ctags": [{"_type": "tag", "name": "KEY", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/utils/persistence.js", "pattern": "/^const KEY = 'proto-bot-session-v1';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "clearSession", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/utils/persistence.js", "pattern": "/^export function clearSession() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "currentHtml", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/utils/persistence.js", "pattern": "/^      currentHtml: typeof data?.currentHtml === 'string' ? data.currentHtml : '',$/", "language": "JavaScript", "kind": "property", "scope": "loadSession.out", "scopeKind": "class"}, {"_type": "tag", "name": "currentHtml", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/utils/persistence.js", "pattern": "/^      currentHtml: typeof state?.currentHtml === 'string' ? state.currentHtml : '',$/", "language": "JavaScript", "kind": "property", "scope": "saveSession.payload", "scopeKind": "class"}, {"_type": "tag", "name": "loadSession", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/utils/persistence.js", "pattern": "/^export function loadSession() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "messages", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/utils/persistence.js", "pattern": "/^      messages: Array.isArray(data?.messages) ? data.messages : [],$/", "language": "JavaScript", "kind": "property", "scope": "loadSession.out", "scopeKind": "class"}, {"_type": "tag", "name": "messages", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/utils/persistence.js", "pattern": "/^      messages: Array.isArray(state?.messages) ? state.messages : [],$/", "language": "JavaScript", "kind": "property", "scope": "saveSession.payload", "scopeKind": "class"}, {"_type": "tag", "name": "out", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/utils/persistence.js", "pattern": "/^    const out = {$/", "language": "JavaScript", "kind": "class", "scope": "loadSession", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/utils/persistence.js", "pattern": "/^    const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "saveSession", "scopeKind": "class"}, {"_type": "tag", "name": "saveSession", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/utils/persistence.js", "pattern": "/^export function saveSession(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}, {"_type": "tag", "name": "theme", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/utils/persistence.js", "pattern": "/^      theme: data?.theme === 'dark' ? 'dark' : 'light'$/", "language": "JavaScript", "kind": "property", "scope": "loadSession.out", "scopeKind": "class"}, {"_type": "tag", "name": "theme", "path": "/home/kavia/workspace/code-generation/conversational-bot-prototype-2303-2312/frontend_reactjs/src/utils/persistence.js", "pattern": "/^      theme: state?.theme === 'dark' ? 'dark' : 'light'$/", "language": "JavaScript", "kind": "property", "scope": "saveSession.payload", "scopeKind": "class"}], "hash": "7f930ad38c9366d57b36313b99662df1", "format-version": 4, "code-base-name": "frontend_reactjs", "filename": "frontend_reactjs/src/utils/persistence.js", "fields": [{"name": "currentHtml: typeof data?.currentHtml === 'string' ? data.currentHtml : '',", "scope": "loadSession.out", "scopeKind": "class", "description": "unavailable"}, {"name": "currentHtml: typeof state?.currentHtml === 'string' ? state.currentHtml : '',", "scope": "saveSession.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "messages: Array.isArray(data?.messages) ? data.messages : [],", "scope": "loadSession.out", "scopeKind": "class", "description": "unavailable"}, {"name": "messages: Array.isArray(state?.messages) ? state.messages : [],", "scope": "saveSession.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "theme: data?.theme === 'dark' ? 'dark' : 'light'", "scope": "loadSession.out", "scopeKind": "class", "description": "unavailable"}, {"name": "theme: state?.theme === 'dark' ? 'dark' : 'light'", "scope": "saveSession.payload", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"62": ""}]}